# 为什么使用框架

组件化: 其中以 React 的组件化最为彻底,甚至可以到函数级别的原子组件,高度的组件化可以是我们的工程易于维护、易于组合拓展。
天然分层: JQuery 时代的代码大部分情况下是面条代码,耦合严重,现代框架不管是 MVC、MVP 还是 MVVM 模式都能帮助我们进行分层，代码解耦更易于读写。

生态: 现在主流前端框架都自带生态,不管是数据流管理架构还是 UI 库都有成熟的解决方案

前端框架的根本意义是解决了 UI 与状态同步问题。

(1) 数据到 DOM 的声明式映射。无论是 virtual dom render 还是模板，其本质都是声明式地描述『基于这样的数据，最终应该呈现给用户这样的界面』。在大部分场景下，用户通常不需要再进行命令式的 DOM 操作。声明式的代码比命令式的代码更简洁，更容易维护。

(2) 组件的组织方式。一个组件的各个部分是分散在多个文件中，还是有合理的组织方式？组件如何发布、如何在多个项目中复用？对此，React 的选择是把所有东西都放进 JS，而 Vue 则是基于构建工具实现类似 Web Component 的单文件组件格式（也可以拆分，同时支持预处理器）。Angular 2 目前要么分开多个文件，要么直接将 HTML/CSS 作为字符串内联。

(3) 组件之间如何组合与沟通。这里的共同要点也是声明式 > 命令式：通过在 render function / 模板中用标签形式在父组件中渲染子组件，让数据驱动组件的存在，从而自然地得到树状的组件树结构，而不是命令式地用 this.add(child) 这样的方法去管理组件树。数据沟通方面，通常都采用了从上至下的单向数据传递，而子组件则可以通过事件冒泡或是传递一个回调的方式来对父组件做出反馈。注意这里的重点是，子组件并不能任意地改写父组件的状态，无论是触发事件还是调用回调，最终父组件发生了什么还是由父组件自身来决定的，这就保证了子组件对父组件的解耦，从而使得子组件可移植/复用。在大型应用里，还要考虑如何让一个事件的后果能够被清晰的理解，让一个开发者可以迅速理解另一个人的代码的意图，让应用不会随着规模的增长而失控？这则是 Flux Redux 这样的状态管理方案试图解决的问题。其核心在于让副作用可控，最终目的也是可维护性。

除了以上三点之外，还有额外的一点，那就是 CSS 和组件的关系。理想情况下，一个高内聚的组件应当包含这个组件所需要的 js 逻辑、HTML 结构和 CSS。但是由于之前提到过的 CSS 全局 namespace 的问题，使得跟随组件的局部 CSS，尤其是可移植性，一直是一个难题。这一点上目前有几个方案：React 为代表的 CSS in JS，CSS modules，Shadow DOM（依赖浏览器实现），以及 Vue/Angular 2 的编译时局部 CSS/模板改写。几个方案各有千秋，但核心是都一定程度上解决了 CSS 全局 namespace 的问题，使得跟随组件的 CSS 不再影响外部，获得了可移植性，从而让组件达成真正的高内聚。而高内聚的组件才可以独立作为包分发，实现跨项目复用。

## 参考

[你为什么使用前端框架?](https://juejin.im/post/5b16c0415188257d42153bac)
