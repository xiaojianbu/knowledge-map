# v-for 中 :key 的作用

vue react 列表渲染中都会要求组件加上 key 属性，key 的作用主要是为了高效的更新虚拟 DOM。另外 vue 中在使用相同标签名元素的过渡切换时，也会使用到 key 属性，其目的也是为了让 vue 可以区分它们，否则 vue 只会替换其内部属性而不会触发过渡效果。

vue 和 react 的虚拟 DOM 的 Diff 算法大致相同，其核心是基于两个简单的假设：1. 两个相同的组件产生类似的 DOM 结构，不同的组件产生不同的 DOM 结构。2. 同一层级的一组节点，他们可以通过唯一的 id 进行区分。基于以上这两点假设，使得虚拟 DOM 的 Diff 算法的复杂度从 O(n^3)降到了 O(n)。

当页面的数据发生变化时，Diff 算法只会比较同一层级的节点：

如果节点类型不同，直接干掉前面的节点，再创建并插入新的节点，不会再比较这个节点以后的子节点了。

如果节点类型相同，则会重新设置该节点的属性，从而实现节点的更新。
