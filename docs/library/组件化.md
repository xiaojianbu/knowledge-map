# 组件化

1. 组件封装的目的是为了重用，提高开发效率和代码质量

2. 低耦合，单一职责，可复用性，可维护性

## 题目：现在要你完成一个 Dialog 组件，说说你设计的思路？它应该有什么功能？

1. 可以指定宽度、高度和位置，支持样式如颜色字体的配置。
2. 需要一个遮盖层，遮住底层内容
3. 由头部、尾部和正文构成
4. 需要监听事件和自定义事件，非单向数据流：例如点击组件右上角，修改父组件的 visible 属性，关闭组件。

配置：根据之前的工作经验，一个模块弹窗可能需要有这样的配置

弹窗类型：仅有确认按钮的弹窗，还有取消按钮的弹窗，能输入内容的弹窗，没有按钮的弹窗

文字：标题、按钮、内容的文字的内容、字体大小、颜色，位置

遮罩层：是否显示，点击是否关闭弹窗。

行为：能否拖拽，调整大小，是否有关闭按钮

高度：固定大小还是根据内容自适应

尺寸：高度或宽度是固定尺寸或是特定比例

位置：居中或是特定的上边距和左边距

行为：模块弹窗可能会有这样的行为

点击确定按钮，抛出确定的事件

点击取消按钮，抛出取消的事件

点击关闭按钮，抛出关闭的事件（可以跟第二点合并）

点击遮罩层，抛出的事件

拖拽弹窗，可能改变弹窗的位置

按住弹窗的角并拖拽，可能改变弹窗的尺寸

方案：

会使用 flex 或是绝对定位控制位置和尺寸

引入皮肤概念，使得一个 class 能控制颜色字体大小等属性

使用单例模式避免启用重复的弹窗

http://obkoro1.com/web_accumulate/accumulate/Vue/%E5%BC%B9%E7%AA%97.html

## 如何设计一个好的组件

从两个维度看这件事

1. 感性（组件的目标） 感性上来说，假设你开发了一个组件，当另一个人想要使用你的组件的时候他应该是根据文档无障碍的，你的功能是完全满足他期待的，他不需要在使用组件的时候做二次开发
2. 理性（从概括到具体）
   SOLID 原则
   S: 单一职责，一个组件只做一件事，支持以组合的方式组成另一个组件
   O: 对拓展开放，对修改关闭（对组件的封装）。后端语言是通过继承特性来实现的，而在组件中则可以通过添加 hook 函数，开放自定义样式等实现
   接口隔离（对开发组件有启示）
   反转依赖（对开发组件有启示）
   React 官方提倡 Hight Order Component，或者使用 Container Component，将 Container Component 与 Presentional Component 分离
   在实现内部使用设计模式
   保持好的代码习惯
