# 观察者模式（发布订阅模式）

## 概念

定义对象间的一种一对多的依赖关系，以便当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并自动刷新，也被称为发布订阅模式。

## 应用场景

博客园里面有一个订阅的按钮（貌似有 bug），比如小 A,小 B,小 C 都订阅了我的博客，当我的博客一有更新时，就会统一发布邮件给他们这三个人，就会通知这些订阅者

发布订阅模式的流程如下：

1.  确定谁是发布者(比如我的博客)。

2.  然后给发布者添加一个缓存列表，用于存放回调函数来通知订阅者。

3.  发布消息，发布者需要遍历这个缓存列表，依次触发里面存放的订阅者回调函数。

4.  退订（比如不想再接收到这些订阅的信息了，就可以取消掉）
