# 重绘和回流

重绘：当页面中元素样式的改变并不影响它在文档流中的位置时（例如：color、background-color、visibility 等），浏览器会将新样式赋予给元素并重新绘制它，这个过程称为重绘。

回流：当 Render Tree（DOM）中部分或全部元素的尺寸、结构、或某些属性发生改变时，浏览器重新渲染部分或全部文档的过程称为回流。

回流要比重绘消耗性能开支更大。

回流必将引起重绘，重绘不一定会引起回流。

- 重排和重绘

  部分渲染树（或者整个渲染树）需要重新分析并且节点尺寸需要重新计算。这被称为重排。注意这里至少会有一次重排-初始化页面布局。

  由于节点的几何属性发生改变或者由于样式发生改变，例如改变元素背景色时，屏幕上的部分内容需要更新。这样的更新被称为重绘。

- 什么情况会触发重排和重绘？

  - 添加、删除、更新 DOM 节点
  - 通过 display: none 隐藏一个 DOM 节点-触发重排和重绘
  - 通过 visibility: hidden 隐藏一个 DOM 节点-只触发重绘，因为没有几何变化
  - 移动或者给页面中的 DOM 节点添加动画
  - 添加一个样式表，调整样式属性
  - 用户行为，例如调整窗口大小，改变字号，或者滚动。

发生回流:

1.改变窗囗大小

2.改变文字大小

3.添加/删除样式表

4.内容的改变，如用户在输入框中敲字(这样也会-\_-||)

5.激活伪类，如:hover (IE 里是一个兄弟结点的伪类被激活)

6.操作 class 属性

7.脚本操作 DOM

8.计算 offsetWidth 和 offsetHeight

9.设置 style 属性
