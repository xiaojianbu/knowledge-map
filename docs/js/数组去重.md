# 数组去重

## 遍历数组

实现思路：新建一个数组，遍历原数组，值不在新数组中就加入新数组。

```js
function unique(arr) {
  let array = []
  for (let i = 0, len = arr.length; i < len; i++) {
    if (array.indexOf(arr[i]) === -1) {
      array.push(arr[i])
    }
  }
  return array
}
```

## 对象键值对法

实现思路：新建一个对象，遍历数组，判断值是否为 JS 对象的键，不是的话给对象新增该键并放入新数组。

**注意:** 判断是否为 js 对象键时，会自动对传入的键执行“toString()”，不同的键可能会被误认为一样；例如： a[1]、a["1"] 。解决上述问题还是得调用“indexOf”。

```js
function unique(arr) {
  let obj = {}
  let array = []
  let len = arr.length
  let val
  let type

  for (let i = 0; i < len; i++) {
    val = arr[i]
    type = typeof val

    if (!obj[val]) {
      obj[val] = [type]
      array.push(val)
    } else if (obj[val].indexOf(type) < 0) {
      obj[val].push(type)
      array.push(val)
    }
  }
  return array
}
```

## 数组下标法

实现思路：如果当前数组的第 i 项在当前数组中第一次出现的位置不是 i，那么表示第 i 项是重复的，忽略掉。否则存入结果数组。

```js
function unique(arr) {
  let array = [arr[0]]
  let len = arr.length
  for (let i = 1; i < len; i++) {
    if (arr.indexOf(arr[i]) === i) {
      array.push(arr[i])
    }
  }
  return array
}
```

## 排序后相邻去除法

虽然原生数组的”sort”方法排序结果不怎么靠谱，但在不注重顺序的去重里该缺点毫无影响。

实现思路：给原数组排序，排序后相同值相邻，然后遍历时新数组只加入不与前一值重复的值。

```js
function unique(array) {
  array.sort()
  let arr = [array[0]]
  let len = array.length
  for (let i = 0; i < len; i++) {
    if (array[i] !== arr[arr.length - 1]) {
      arr.push(array[i])
    }
  }
  return arr
}
```

## ES6

```js
function unique(arr) {
  const map = new Map()
  return arr.filter(item => !map.has(a) && map.set(item, 1))
}

function unique2(arr) {
  return Array.from(new Set(arr))
}

;[...new Set(arr)]

function unique_reduce(array) {
  return array.reduce(function(ret, cur) {
    if (ret.indexOf(cur) === -1) ret.push(cur)
    return ret
  }, [])
}
```
