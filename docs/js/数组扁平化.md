# 数组扁平化

## [1,[2],[3,[4]]]这种无限嵌套数组 变成[1,2,3,4]怎么做

```js
const deepFlatten = arr =>
  arr.reduce((a, v) => a.concat(Array.isArray(v) ? deepFlatten(v) : v), [])
// deepFlatten([1,[2],[[3],4],5]) -> [1,2,3,4,5]
```

使用递归来实现

```js
function flattenDepth(array, depth = 1) {
  let result = []
  array.forEach(item => {
    let d = depth
    if (Array.isArray(item) && d > 0) {
      result.push(...flattenDepth(item, --d))
    } else {
      result.push(item)
    }
  })
  return result
}
console.log(flattenDepth([1, [2, [3, [4]], 5]]))
console.log(flattenDepth([1, [2, [3, [4]], 5]], 2))
console.log(flattenDepth([1, [2, [3, [4]], 5]], 3))
```

```js
var arrays = [['$6'], ['$12'], ['$25'], ['$25'], ['$18'], ['$22'], ['$10']]
var merged = [].concat.apply([], arrays)
var merged2 = [].concat(...arrays)
```
